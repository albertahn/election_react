!function(){var e,t,r={40979:function(e,t,r){"use strict";var n=r(85893),a=r(73935),i=r(79655),o=r(67294),s=r(89250),u=r(59251),c=r(74269),l=r(26719),p=r(29441);function f(e,t,r,n,a,i,o){try{var s=e[i](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,a)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){f(i,n,a,o,s,"next",e)}function s(e){f(i,n,a,o,s,"throw",e)}o(void 0)}))}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var y=function(){var e=(0,s.TH)().pathname,t=m((0,o.useState)(!1),2),r=t[0],a=t[1],i=m((0,o.useState)(e.substring(1)),2),u=i[0],f=(i[1],m((0,o.useState)(""),2)),d=f[0],y=f[1],v=function(){var e=h(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.navigator.clipboard.writeText(d);case 2:alert("Copied");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=h(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(!0),e.next=4,l.u.prepareCommitment();case 4:return t=e.sent,y(t.note),e.next=8,l.u.sendDeposit(t.commitmentHex,u);case 8:alert("Ether deposited successfully."),a(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),alert((null===e.t0||void 0===e.t0?void 0:e.t0.message)||"Error on deposit");case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"container mt-5",children:[(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-lg-6",children:(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{className:"mb-2",children:"Referrer Address"}),(0,n.jsxs)("div",{className:"input-group mb-3",children:[(0,n.jsx)("input",{type:"text",className:"form-control",placeholder:"0x123...456","aria-label":"Referrer","aria-describedby":"basic-referrer"}),(0,n.jsxs)("button",{className:"btn btn-primary",children:["Edit Code",(0,n.jsx)("i",{className:"fa-solid fa-pen-to-square ms-2"})]})]})]})}),(0,n.jsx)("div",{className:"col-lg-6"})]}),(0,n.jsxs)("div",{className:"row gx-4",children:[(0,n.jsx)("div",{className:"col-lg-6",children:(0,n.jsx)("div",{className:"card p-4",style:{borderRadius:0},children:(0,n.jsx)(c.Z,{onDepositHandler:b,loading:r})})}),(0,n.jsx)("div",{className:"col-lg-6",children:(0,n.jsx)("div",{className:"card",style:{borderRadius:0},children:"Transaction History Page"})})]})]}),(0,n.jsx)(p.Z,{show:""!==d,handleClose:function(){return y("")},onCopyHandler:v,commitment:d})]})};var v=function(){return(0,n.jsxs)("div",{className:"App",children:[(0,n.jsx)(u.Z,{}),(0,n.jsxs)(s.Z5,{children:[(0,n.jsx)(s.AW,{path:"/",element:(0,n.jsx)(y,{})}),(0,n.jsx)(s.AW,{path:"/:address",element:(0,n.jsx)(y,{})})]})]})};(0,a.render)((0,n.jsx)(i.UT,{children:(0,n.jsx)(v,{})}),document.getElementById("root"))},26719:function(e,t,r){"use strict";r.d(t,{u:function(){return Ne}});var n=r(96279),a=r(50387),i=r(77616),o=(r(74975),r(55835)),s=r(34269);function u(e,t,r,n,a,i,o){try{var s=e[i](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,a)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pedersenHash=null,this.babyJub=null,this.initPedersen()}var t,r,n,a,i;return t=e,r=[{key:"initPedersen",value:(a=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.ZN)();case 2:this.pedersenHash=e.sent,this.babyJub=this.pedersenHash.babyJub;case 4:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(r,n){var i=a.apply(e,t);function o(e){u(i,r,n,o,s,"next",e)}function s(e){u(i,r,n,o,s,"throw",e)}o(void 0)}))},function(){return i.apply(this,arguments)})},{key:"unpackPoint",value:function(e){return this.babyJub.unpackPoint(this.pedersenHash.hash(e))}},{key:"toStringBuffer",value:function(e){return this.babyJub.F.toString(e)}}],r&&c(t.prototype,r),n&&c(t,n),e}(),p=(new l,r(40098)),f=r(88935),h=r(48764).Buffer;function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function d(e,t,r,n,a,i,o){try{var s=e[i](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,a)}function y(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){d(i,n,a,o,s,"next",e)}function s(e){d(i,n,a,o,s,"throw",e)}o(void 0)}))}}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,r=e instanceof h,n=r?e.toString("hex"):BigInt(e).toString(16);return"0x"+n.padStart(2*t,"0")}function w(e){var t=v(e.split("-"),6);return{currency:t[1],amount:t[2],netId:t[3],secret:t[4],commitmentHash:t[5]}}function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.forEach((function(e,t){if(e.leafIndex!==t)throw console.error("Missing deposit event for deposit #".concat(t)),new Error(window.$nuxt.$t("failedToFetchAllDepositEvents"))}))}function k(e,t){return"deposit"===t?e.map((function(e){var t=e.blockNumber,r=e.transactionHash,n=e.returnValues,a=n.commitment,i=n.leafIndex,o=n.timestamp;return{blockNumber:t,transactionHash:r,commitment:a,leafIndex:Number(i),timestamp:o}})):e.map((function(e){var t=e.blockNumber,r=e.transactionHash,n=e.returnValues;return{blockNumber:t,transactionHash:r,nullifierHash:n.nullifierHash,to:n.to,fee:n.fee}}))}function E(e){return new Promise((function(t){return setTimeout(t,e)}))}function R(e,t){return A.apply(this,arguments)}function A(){return(A=y(regeneratorRuntime.mark((function e(t,r){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=O(t),r=O(r),e.next=4,p.tt._$(t,r);case 4:return n=e.sent,a=JSON.parse("["+n+"]"),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){if("string"==typeof e&&/^[0-9]+$/.test(e))return BigInt(e);if(Array.isArray(e))return e.map(O);if("object"==m(e)){var t={};return Object.keys(e).forEach((function(r){t[r]=O(e[r])})),t}return e}function T(e){var t=h.from(e);t.reverse();var r=t.toString("hex");return 0===r.length?BigInt(0):BigInt("0x".concat(r))}var j=r(37918),B=r.n(j),I=r(25560),S=r(70119);function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){M(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H(e,t,r,n,a,i,o){try{var s=e[i](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,a)}function F(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){H(i,n,a,o,s,"next",e)}function s(e){H(i,n,a,o,s,"throw",e)}o(void 0)}))}}function D(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var _=function(){function e(t){var r=t.stores,n=t.dbName;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dbExists=!1,this.isBlocked=!1,this.options={upgrade:function(e){Object.values(e.objectStoreNames).forEach((function(t){e.deleteObjectStore(t)})),r.forEach((function(t){var r=t.name,n=t.keyPath,a=t.indexes,i=e.createObjectStore(r,{keyPath:n,autoIncrement:!0});Array.isArray(a)&&a.forEach((function(e){var t=e.name,r=e.unique,n=void 0!==r&&r;i.createIndex(t,t,{unique:n})}))}))}},this.dbName=n}var t,r,n,a,i,o,s,u,c,l,p,f,h,m,d;return t=e,r=[{key:"initDB",value:(d=F(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this.dbExists){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,(0,I.X3)(this.dbName,34,this.options);case 5:this.db=e.sent,this.onEventHandler(),this.dbExists=!0,e.next=19;break;case 10:if(e.prev=10,e.t0=e.catch(0),!e.t0.message.includes("A mutation operation was attempted on a database that did not allow mutations.")){e.next=15;break}return this.isBlocked=!0,e.abrupt("return");case 15:if(!e.t0.message.includes("less than the existing version")){e.next=18;break}return e.next=18,this._removeExist();case 18:console.error("Method initDB has error: ".concat(e.t0.message));case 19:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(){return d.apply(this,arguments)})},{key:"onEventHandler",value:function(){var e=this;this.db.addEventListener("onupgradeneeded",F(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._removeExist();case 2:case"end":return t.stop()}}),t)}))))}},{key:"_removeExist",value:(m=F(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,I.Lj)(this.dbName);case 2:return this.dbExists=!1,e.next=5,this.initDB();case 5:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"getFromIndex",value:(h=F(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isBlocked){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.prev=2,e.next=5,this._getFromIndex(t);case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",void 0);case 11:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e){return h.apply(this,arguments)})},{key:"_getFromIndex",value:(f=F(regeneratorRuntime.mark((function e(t){var r,n,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.storeName,n=t.indexName,a=t.key,e.prev=1,e.next=4,this.db.getFromIndex(r,n,a);case 4:return i=e.sent,e.abrupt("return",i);case 8:throw e.prev=8,e.t0=e.catch(1),new Error("Method getFromIndex has error: ".concat(e.t0.message));case 11:case"end":return e.stop()}}),e,this,[[1,8]])}))),function(e){return f.apply(this,arguments)})},{key:"getAllFromIndex",value:(p=F(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isBlocked){e.next=2;break}return e.abrupt("return",[]);case 2:return e.prev=2,e.next=5,this._getAllFromIndex(t);case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e){return p.apply(this,arguments)})},{key:"_getAllFromIndex",value:(l=F(regeneratorRuntime.mark((function e(t){var r,n,a,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.storeName,n=t.indexName,a=t.key,i=t.count,e.prev=1,e.next=4,this.db.getAllFromIndex(r,n,a,i);case 4:return o=e.sent,e.abrupt("return",o);case 8:throw e.prev=8,e.t0=e.catch(1),new Error("Method getAllFromIndex has error: ".concat(e.t0.message));case 11:case"end":return e.stop()}}),e,this,[[1,8]])}))),function(e){return l.apply(this,arguments)})},{key:"getItem",value:(c=F(regeneratorRuntime.mark((function e(t){var r,n,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.storeName,n=t.key,!this.isBlocked){e.next=3;break}return e.abrupt("return",void 0);case 3:return e.prev=3,a=this.db.transaction(r).objectStore(r),e.next=7,a.get(n);case 7:return i=e.sent,e.abrupt("return",i);case 11:throw e.prev=11,e.t0=e.catch(3),new Error("Method getItem has error: ".concat(e.t0.message));case 14:case"end":return e.stop()}}),e,this,[[3,11]])}))),function(e){return c.apply(this,arguments)})},{key:"addItem",value:(u=F(regeneratorRuntime.mark((function e(t){var r,n,a,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.storeName,n=t.data,a=t.key,i=void 0===a?"":a,!this.isBlocked){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,o=this.db.transaction(r,"readwrite"),e.next=7,o.objectStore(r).get(i);case 7:if(e.sent){e.next=11;break}return e.next=11,o.objectStore(r).add(n);case 11:e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(3),new Error("Method addItem has error: ".concat(e.t0.message));case 16:case"end":return e.stop()}}),e,this,[[3,13]])}))),function(e){return u.apply(this,arguments)})},{key:"putItem",value:(s=F(regeneratorRuntime.mark((function e(t){var r,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.storeName,n=t.data,!this.isBlocked){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,a=this.db.transaction(r,"readwrite"),e.next=7,a.objectStore(r).put(n);case 7:e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(3),new Error("Method putItem has error: ".concat(e.t0.message));case 12:case"end":return e.stop()}}),e,this,[[3,9]])}))),function(e){return s.apply(this,arguments)})},{key:"getAll",value:(o=F(regeneratorRuntime.mark((function e(t){var r,n,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.storeName,!this.isBlocked){e.next=3;break}return e.abrupt("return",[]);case 3:return e.prev=3,n=this.db.transaction(r,"readonly"),a=n.objectStore(r),e.next=8,a.getAll();case 8:return i=e.sent,e.abrupt("return",i);case 12:throw e.prev=12,e.t0=e.catch(3),new Error("Method getAll has error: ".concat(e.t0.message));case 15:case"end":return e.stop()}}),e,this,[[3,12]])}))),function(e){return o.apply(this,arguments)})},{key:"clearStore",value:(i=F(regeneratorRuntime.mark((function e(t){var r,n,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.storeName,n=t.mode,a=void 0===n?"readwrite":n,!this.isBlocked){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,i=this.db.transaction(r,a),e.next=7,i.objectStore(r).clear();case 7:e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(3),new Error("Method clearStore has error: ".concat(e.t0.message));case 12:case"end":return e.stop()}}),e,this,[[3,9]])}))),function(e){return i.apply(this,arguments)})},{key:"createTransactions",value:(a=F(regeneratorRuntime.mark((function e(t){var r,n,a,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.storeName,n=t.data,a=t.mode,i=void 0===a?"readwrite":a,!this.isBlocked){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,o=this.db.transaction(r,i),e.next=7,o.objectStore(r).add(n);case 7:return e.next=9,o.done;case 9:e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(3),new Error("Method createTransactions has error: ".concat(e.t0.message));case 14:case"end":return e.stop()}}),e,this,[[3,11]])}))),function(e){return a.apply(this,arguments)})},{key:"createMultipleTransactions",value:function(e){var t=e.storeName,r=e.data,n=e.index,a=e.mode,i=void 0===a?"readwrite":a;if(!this.isBlocked)try{var o=this.db.transaction(t,i);r.map((function(e){e&&o.store.put(C(C({},e),n))}))}catch(e){throw new Error("Method createMultipleTransactions has error: ".concat(e.message))}}}],r&&D(t.prototype,r),n&&D(t,n),e}(),U=F(regeneratorRuntime.mark((function e(){var t,r,a,i,o,s,u,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=S.U.networkName,r=new Map,a=[{name:"transactionHash",unique:!1},{name:"commitment",unique:!0}],i=[{name:"nullifierHash",unique:!0}],o=[{name:"encrypted_events",keyPath:"transactionHash"},{name:"lastEvents",keyPath:"name",indexes:[{name:"name",unique:!1}]}],s=regeneratorRuntime.mark((function e(){var s,l,p,f,h,m,d,y,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=c[u],p=n.V[l],f=p.tokens,h=p.nativeCurrency,m=Number(null===(s=n.V[t])||void 0===s?void 0:s.networkId),d=[].concat(o),1===m&&d.push({name:"register_events",keyPath:"ensName"}),Object.keys(f).forEach((function(e){Object.keys(f[e].instanceAddress).forEach((function(t){h===e&&1===m&&d.push({name:"stringify_bloom_".concat(e,"_").concat(t),keyPath:"hashBloom"}),d.push({name:"deposits_".concat(e,"_").concat(t),keyPath:"leafIndex",indexes:a},{name:"withdrawals_".concat(e,"_").concat(t),keyPath:"transactionHash",indexes:i},{name:"stringify_tree_".concat(e,"_").concat(t),keyPath:"hashTree"})}))})),y={stores:d,dbName:"tornado_cash_".concat(m)},v=new _(y),r.set(y.dbName,v),e.next=11,v.initDB();case 11:return e.abrupt("return",{v:v});case 12:case"end":return e.stop()}}),e)})),u=0,c=Object.keys(n.V);case 8:if(!(u<c.length)){e.next=16;break}return e.delegateYield(s(),"t0",10);case 10:if("object"!==N(l=e.t0)){e.next=13;break}return e.abrupt("return",l.v);case 13:u++,e.next=8;break;case 16:case"end":return e.stop()}}),e)}))),q=JSON.parse('{"Mt":[{"inputs":[{"internalType":"contract IVerifier","name":"_verifier","type":"address"},{"internalType":"uint256","name":"_denomination","type":"uint256"},{"internalType":"uint32","name":"_merkleTreeHieght","type":"uint32"},{"internalType":"contract Hasher","name":"_hasher","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"TwoLevelReferral__InvalidDenomination","type":"error"},{"inputs":[],"name":"TwoLevelReferral__TransferFailed","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"commitment","type":"bytes32"},{"indexed":false,"internalType":"uint32","name":"leafIndex","type":"uint32"},{"indexed":false,"internalType":"uint256","name":"timestamp","type":"uint256"}],"name":"Deposit","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"bytes32","name":"nullifierHashes","type":"bytes32"},{"indexed":true,"internalType":"address","name":"relayer","type":"address"},{"indexed":false,"internalType":"uint256","name":"fee","type":"uint256"}],"name":"Withdrawal","type":"event"},{"inputs":[],"name":"FIELD_SIZE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"ROOT_HISTORY_SIZE","outputs":[{"internalType":"uint32","name":"","type":"uint32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"ZERO_VALUE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"commitments","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"currentRootIndex","outputs":[{"internalType":"uint32","name":"","type":"uint32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"denomination","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"_commitment","type":"bytes32"},{"internalType":"address","name":"_referrer","type":"address"}],"name":"deposit","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"filledSubtrees","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getLastRoot","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"_left","type":"bytes32"},{"internalType":"bytes32","name":"_right","type":"bytes32"}],"name":"hashLeftRight","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"hasher","outputs":[{"internalType":"contract Hasher","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"_root","type":"bytes32"}],"name":"isKnownRoot","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"_nullifierHash","type":"bytes32"}],"name":"isSpent","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"levels","outputs":[{"internalType":"uint32","name":"","type":"uint32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"nextIndex","outputs":[{"internalType":"uint32","name":"","type":"uint32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"nullifierHashes","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"referralMap","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"roots","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"verifier","outputs":[{"internalType":"contract IVerifier","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256[2]","name":"a","type":"uint256[2]"},{"internalType":"uint256[2][2]","name":"b","type":"uint256[2][2]"},{"internalType":"uint256[2]","name":"c","type":"uint256[2]"},{"internalType":"uint256[1]","name":"input","type":"uint256[1]"},{"internalType":"bytes32","name":"_root","type":"bytes32"},{"internalType":"bytes32","name":"_nullifierHash","type":"bytes32"},{"internalType":"address payable","name":"_recipient","type":"address"},{"internalType":"address payable","name":"_relayer","type":"address"},{"internalType":"uint256","name":"_fee","type":"uint256"},{"internalType":"uint256","name":"_refund","type":"uint256"}],"name":"withdraw","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"zeros","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"}]}');function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){Q(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Q(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K(e,t,r,n,a,i,o){try{var s=e[i](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,a)}function z(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){K(i,n,a,o,s,"next",e)}function s(e){K(i,n,a,o,s,"throw",e)}o(void 0)}))}}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function X(e,t,r){return t&&Y(e.prototype,t),r&&Y(e,r),e}var J="deposit",Z=function(){function e(t){var r=t.netId,n=t.amount,a=t.currency,i=t.factoryMethods;L(this,e);this.networkName=S.U.networkName,this.idb=null,this.netId=r,this.amount=n,this.currency=a,this.factoryMethods=i,this.contract=this.getContract(),this.isNative="eth"===this.currency,this.hasCache=this.isNative&&(1===Number(this.netId)||56===Number(this.netId))}var t,r,a,i,o,s,u,c,l,p,f,h;return X(e,[{key:"init",value:(h=z(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:this.idb=e.sent;case 3:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"getInstanceName",value:function(e){return"".concat(e,"s_").concat(this.currency,"_").concat(this.amount)}},{key:"getEvents",value:(f=z(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getEventsFromDB(t);case 2:if((r=e.sent)||!this.hasCache){e.next=7;break}return e.next=6,this.getEventsFromCache(t);case 6:r=e.sent;case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"updateEvents",value:(p=z(regeneratorRuntime.mark((function e(t,r){var a,i,o,s,u,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=null===(a=n.V[this.networkName])||void 0===a?void 0:a.deployedBlock,e.t0=r,e.t0){e.next=6;break}return e.next=5,this.getEvents(t);case 5:e.t0=e.sent;case 6:return o=e.t0,s=parseInt(i),o&&(s=o.lastBlock+1),e.next=11,this.getEventsFromBlock({type:t,fromBlock:s});case 11:return u=e.sent,c=[].concat((null==o?void 0:o.events)||[],(null==u?void 0:u.events)||[]).sort((function(e,t){return e.leafIndex&&t.leafIndex?e.leafIndex-t.leafIndex:e.blockNumber-t.blockNumber})),l=c[c.length-1].blockNumber,this.saveEvents({events:c,lastBlock:l,type:t}),e.abrupt("return",{events:c,lastBlock:l});case 16:case"end":return e.stop()}}),e,this)}))),function(e,t){return p.apply(this,arguments)})},{key:"findEvent",value:(l=z(regeneratorRuntime.mark((function e(t){var r,n,a,i,o,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.eventName,n=t.eventToFind,a=t.type,i=this.getInstanceName(a),e.next=4,this.idb.getFromIndex({storeName:i,indexName:r,key:n});case 4:if(!(o=e.sent)){e.next=7;break}return e.abrupt("return",o);case 7:return e.next=9,this.getEvents(a);case 9:if(!(s=e.sent)){e.next=14;break}if(!(o=s.events.find((function(e){return e[r]===n})))){e.next=14;break}return e.abrupt("return",o);case 14:return e.next=16,this.updateEvents(a);case 16:return u=e.sent,o=u&&(null==u?void 0:u.events.find((function(e){return e[r]===n}))),e.abrupt("return",o);case 19:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"getContract",value:function(){var e,t,r=null===(e=n.V[this.networkName])||void 0===e?void 0:e.tornadoAddress;return new(new(B())(null===(t=n.V[this.networkName])||void 0===t?void 0:t.rpc).eth.Contract)(q.Mt,r)}},{key:"getEventsFromDB",value:(c=z(regeneratorRuntime.mark((function e(t){var r,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=this.getInstanceName(t),e.next=4,this.idb.getAll({storeName:r});case 4:if((n=e.sent)&&n.length){e.next=7;break}return e.abrupt("return",void 0);case 7:return e.next=9,this.idb.getFromIndex({storeName:"lastEvents",indexName:"name",key:r});case 9:return a=e.sent,e.abrupt("return",{events:n,lastBlock:a.blockNumber});case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",void 0);case 16:case"end":return e.stop()}}),e,this,[[0,13]])}))),function(e){return c.apply(this,arguments)})},{key:"getStatisticsRpc",value:(u=z(regeneratorRuntime.mark((function e(t){var r,a,i,o,s,u,c,l,p,f,h,m,d,y,v,b,g,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.eventsCount,i=null===(r=n.V[this.networkName])||void 0===r?void 0:r.deployedBlock,e.next=4,this.getEvents(J);case 4:if(!(o=e.sent).events.length){e.next=11;break}return e.next=8,this.updateEvents(J,o);case 8:return s=e.sent,u=s.events,e.abrupt("return",u);case 11:return c=4950,l=i,e.next=15,this.getBlocksDiff({fromBlock:l});case 15:if(p=e.sent,f=p.blockDifference,h=p.currentBlockNumber,m=0===f?1:Math.ceil(f/c),d=Math.ceil(f/m),y=[],v=h,!(l<h)){e.next=49;break}b=0;case 24:if(!(b<m)){e.next=44;break}return e.prev=25,e.next=28,E(200);case 28:return e.next=30,this.getEventsPartFromRpc({fromBlock:v-d,toBlock:v,type:J});case 30:if(!(g=e.sent)){e.next=35;break}if(y=y.concat(g.events),!(a<=y.length)){e.next=35;break}return e.abrupt("break",44);case 35:v-=d,e.next=41;break;case 38:e.prev=38,e.t0=e.catch(25),m+=1;case 41:b++,e.next=24;break;case 44:if(a===y.length){e.next=49;break}return e.next=47,this.getEvents(J);case 47:w=e.sent,y=y.concat((null==w?void 0:w.events)||[]);case 49:return e.abrupt("return",y);case 50:case"end":return e.stop()}}),e,this,[[25,38]])}))),function(e){return u.apply(this,arguments)})},{key:"getBlocksDiff",value:(s=z(regeneratorRuntime.mark((function e(t){var r,a,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.fromBlock,i=new(B())(null===(r=n.V[this.networkName])||void 0===r?void 0:r.rpc).eth,e.next=4,i.getBlockNumber();case 4:return o=e.sent,e.abrupt("return",{currentBlockNumber:o,blockDifference:Math.ceil(o-a)});case 6:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"getEventsPartFromRpc",value:(o=z(regeneratorRuntime.mark((function e(t){var r,n,a,i,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fromBlock,n=t.toBlock,a=t.type,e.prev=1,e.next=4,this.getBlocksDiff({fromBlock:r});case 4:if(i=e.sent,o=i.currentBlockNumber,!(r>o)){e.next=8;break}return e.abrupt("return",{events:[],lastBlock:r});case 8:return e.next=10,this.contract.getPastEvents((u=a).charAt(0).toUpperCase()+u.slice(1),{fromBlock:r,toBlock:n});case 10:if(null!=(s=e.sent)&&s.length){e.next=13;break}return e.abrupt("return",{events:[],lastBlock:r});case 13:return e.abrupt("return",{events:k(s,a),lastBlock:s[s.length-1].blockNumber});case 16:return e.prev=16,e.t0=e.catch(1),e.abrupt("return",void 0);case 19:case"end":return e.stop()}var u}),e,this,[[1,16]])}))),function(e){return o.apply(this,arguments)})},{key:"getBatchEventsFromRpc",value:(i=z(regeneratorRuntime.mark((function e(t){var r,n,a,i,o,s,u,c,l,p,f,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fromBlock,n=t.type,e.prev=1,a=4950,e.next=5,this.getBlocksDiff({fromBlock:r});case 5:if(i=e.sent,o=i.blockDifference,s=i.currentBlockNumber,u=0===o?1:Math.ceil(o/a),c=Math.ceil(o/u),l=[],p=r+c,!(r<s)){e.next=35;break}p>=s&&(p="latest",u=1),f=0;case 15:if(!(f<u)){e.next=33;break}return e.prev=16,e.next=19,E(200);case 19:return e.next=21,this.getEventsPartFromRpc({fromBlock:r,toBlock:p,type:n});case 21:(h=e.sent)&&(l=l.concat(h.events)),r=p,p+=c,e.next=30;break;case 27:e.prev=27,e.t0=e.catch(16),u+=1;case 30:f++,e.next=15;break;case 33:if(!l.length){e.next=35;break}return e.abrupt("return",{events:l,lastBlock:"latest"===p?s:p});case 35:return e.abrupt("return",void 0);case 38:return e.prev=38,e.t1=e.catch(1),e.abrupt("return",void 0);case 41:case"end":return e.stop()}}),e,this,[[1,38],[16,27]])}))),function(e){return i.apply(this,arguments)})},{key:"getEventsFromRpc",value:(a=z(regeneratorRuntime.mark((function e(t){var r,n,a,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.fromBlock,n=t.type,e.prev=1,56!==Number(this.netId)){e.next=9;break}return e.next=5,this.getBatchEventsFromRpc({fromBlock:r,type:n});case 5:i=e.sent,a=(null==i?void 0:i.events)||[],e.next=13;break;case 9:return e.next=11,this.getEventsPartFromRpc({fromBlock:r,toBlock:"latest",type:n});case 11:o=e.sent,a=(null==o?void 0:o.events)||[];case 13:return e.abrupt("return",a);case 16:return e.prev=16,e.t0=e.catch(1),e.abrupt("return",[]);case 19:case"end":return e.stop()}}),e,this,[[1,16]])}))),function(e){return a.apply(this,arguments)})},{key:"getEventsFromBlock",value:(r=z(regeneratorRuntime.mark((function e(t){var r,n,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fromBlock,n=t.type,e.prev=1,e.next=4,this.getEventsFromRpc({fromBlock:r,type:n});case 4:if(a=e.sent,!(i=[].concat(a||[])).length){e.next=8;break}return e.abrupt("return",{events:i,lastBlock:i[i.length-1].blockNumber});case 8:return e.abrupt("return",void 0);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",void 0);case 14:case"end":return e.stop()}}),e,this,[[1,11]])}))),function(e){return r.apply(this,arguments)})},{key:"saveEvents",value:(t=z(regeneratorRuntime.mark((function e(t){var r,n,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.events,n=t.lastBlock,a=t.type,e.prev=1,r&&r.length&&!this.idb.isBlocked){e.next=4;break}return e.abrupt("return");case 4:return i=this.getInstanceName(a),this.idb.createMultipleTransactions({data:r,storeName:i}),e.next=8,this.idb.putItem({data:{blockNumber:n,name:i},storeName:"lastEvents"});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("saveEvents has error:",e.t0.message);case 13:case"end":return e.stop()}}),e,this,[[1,10]])}))),function(e){return t.apply(this,arguments)})}]),e}(),W=function(){function e(t){L(this,e),this.provider=new(B())(t).eth,this.instances=new Map}return X(e,[{key:"getBlockNumber",value:function(){return this.provider.getBlockNumber()}},{key:"getContract",value:function(e){return new this.provider.Contract(q.Mt,e)}},{key:"getService",value:function(e){var t="".concat(e.currency,"_").concat(e.amount);if(this.instances.has(t))return this.instances.get(t);var r=new Z(G(G({},e),{},{factoryMethods:{getContract:this.getContract,getBlockNumber:this.getBlockNumber}}));return this.instances.set(t,r),r}}]),e}(),$=r(3514),ee=r(66121),te=r.n(ee);function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ne(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ne(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ae(e,t,r,n,a,i,o){try{var s=e[i](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,a)}function ie(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){ae(i,n,a,o,s,"next",e)}function s(e){ae(i,n,a,o,s,"throw",e)}o(void 0)}))}}function oe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var se=function(){function e(t){t.netId;var r=t.amount,n=t.commitment,a=t.instanceName,i=t.fileName,o=t.fileFolder;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.amount=r,this.fileFolder=o,this.commitment=n,this.instanceName=a,this.fileName="".concat(o,"/").concat(i),this.idb=null}var t,r,n,a,i,o,s,u;return t=e,r=[{key:"init",value:(u=ie(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:this.idb=e.sent;case 3:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"downloadBloom",value:(s=ie(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,download({name:this.fileName,contentType:"string",eventName:this.fileFolder});case 2:if(t=e.sent){e.next=5;break}throw new Error("Cant download file");case 5:return e.abrupt("return",te().deserialize(t));case 6:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"getBloomFromDB",value:(o=ie(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.idb.getAll({storeName:"stringify_bloom_".concat(this.instanceName)});case 3:if((t=e.sent)&&t.length){e.next=6;break}return e.abrupt("return",void 0);case 6:return r=re(t,1),n=r[0].tree,e.abrupt("return",te().deserialize(n));case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",void 0);case 13:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(){return o.apply(this,arguments)})},{key:"checkBloom",value:(i=ie(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBloomFromDB();case 2:if(t=e.sent){e.next=5;break}throw new Error("Can't find bloom in DB");case 5:return e.abrupt("return",t.test(this.commitment));case 6:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"saveBloom",value:(a=ie(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.bloom,e.prev=1,e.next=4,this.idb.putItem({storeName:"stringify_bloom_".concat(this.instanceName),data:{hashBloom:"1",tree:r.serialize()},key:"hashBloom"});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error("saveBloom has error:",e.t0.message);case 9:case"end":return e.stop()}}),e,this,[[1,6]])}))),function(e){return a.apply(this,arguments)})}],r&&oe(t.prototype,r),n&&oe(t,n),e}();function ue(e,t,r,n,a,i,o){try{var s=e[i](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,a)}function ce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var le=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sponge=null,this.hash=null,this.initMimc()}var t,r,n,a,i;return t=e,r=[{key:"initMimc",value:(a=regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s._t)();case 2:this.sponge=e.sent,this.hash=function(e,r){return t.sponge.F.toString(t.sponge.multiHash([BigInt(e),BigInt(r)]))};case 4:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(r,n){var i=a.apply(e,t);function o(e){ue(i,r,n,o,s,"next",e)}function s(e){ue(i,r,n,o,s,"throw",e)}o(void 0)}))},function(){return i.apply(this,arguments)})}],r&&ce(t.prototype,r),n&&ce(t,n),e}(),pe=new le;function fe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function he(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return me(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return me(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function de(e,t,r,n,a,i,o){try{var s=e[i](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,a)}function ye(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){de(i,n,a,o,s,"next",e)}function s(e){de(i,n,a,o,s,"throw",e)}o(void 0)}))}}function ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function be(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ge=4,we=20,xe=function(){function e(t){var r=t.netId,n=t.amount,a=t.currency,i=t.commitment,o=t.instanceName;ve(this,e),this.netId=r,this.amount=n,this.currency=a,this.commitment=i,this.instanceName=o,this.idb=null,this.bloomService=null,this.networkName=S.U.networkName}var t,r,a,i,o,s,u,c;return t=e,r=[{key:"init",value:(c=ye(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:return this.idb=e.sent,this.bloomService=(t={netId:this.netId,amount:this.amount,commitment:this.commitment,instanceName:this.instanceName,fileFolder:"trees",fileName:"deposits_".concat(this.currency,"_").concat(this.amount,"_bloom.json.zip")},new se(t)),e.next=6,this.bloomService.init();case 6:case"end":return e.stop()}var t}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"getFileName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge;return"trees/deposits_".concat(this.currency,"_").concat(this.amount,"_slice").concat(e,".json.zip")}},{key:"createTree",value:function(e){var t,r,a=e.events;return new $.MerkleTree(null===(t=n.V[this.networkName])||void 0===t?void 0:t.merkleTreeHeight,a,{zeroElement:null===(r=n.V[this.networkName])||void 0===r?void 0:r.emptyElement,hashFunction:pe.hash})}},{key:"createPartialTree",value:function(e){var t=e.edge,r=e.elements;return new $.PartialMerkleTree(we,t,r,{zeroElement:GlobalConfig.ganache.emptyElement,hashFunction:pe.hash})}},{key:"getTreeFromCache",value:(u=ye(regeneratorRuntime.mark((function e(){var t,r,n,a,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.downloadEdge(this.getFileName());case 3:if(t=e.sent,r=this.createPartialTree(t),!t.elements.includes(this.commitment)){e.next=7;break}return e.abrupt("return",r);case 7:return e.next=9,this.bloomService.checkBloom();case 9:if(e.sent){e.next=12;break}return e.abrupt("return",r);case 12:a=[],i=ge-1;case 14:if(!(i>0)){e.next=25;break}return e.next=17,this.downloadEdge(this.getFileName(i));case 17:if(o=e.sent,n=o.edge,a=[].concat(o.elements,a),!o.elements.includes(this.commitment)){e.next=22;break}return e.abrupt("break",25);case 22:i--,e.next=14;break;case 25:return r.shiftEdge(n,a),e.abrupt("return",r);case 29:return e.prev=29,e.t0=e.catch(0),e.abrupt("return",void 0);case 32:case"end":return e.stop()}}),e,this,[[0,29]])}))),function(){return u.apply(this,arguments)})},{key:"getTreeFromDB",value:(s=ye(regeneratorRuntime.mark((function e(){var t,r,n,a,i,o,s,u,c,l,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.idb.getAll({storeName:"stringify_tree_".concat(this.instanceName)});case 3:if((t=e.sent)&&t.length){e.next=6;break}return e.abrupt("return",void 0);case 6:if(r=he(t,1),n=r[0].tree,a=JSON.parse(n),o=(i="_edgeLeaf"in a)?$.PartialMerkleTree.deserialize(a,pe.hash):$.MerkleTree.deserialize(a,pe.hash),!i){e.next=31;break}if(s=o.edgeIndex,-1!==o.indexOf(this.commitment)||0===s){e.next=31;break}return e.next=16,this.bloomService.checkBloom();case 16:if(!e.sent){e.next=31;break}c=[],l=ge;case 20:if(!(l>0)){e.next=30;break}return e.next=23,this.downloadEdge(this.getFileName(l));case 23:if(p=e.sent,s>p.edge.edgeIndex&&(u=p.edge,c=[].concat(p.elements,c)),!p.elements.includes(this.commitment)){e.next=27;break}return e.abrupt("break",30);case 27:l--,e.next=20;break;case 30:o.shiftEdge(u,c);case 31:return e.abrupt("return",o);case 34:return e.prev=34,e.t0=e.catch(0),e.abrupt("return",void 0);case 37:case"end":return e.stop()}}),e,this,[[0,34]])}))),function(){return s.apply(this,arguments)})},{key:"getTree",value:(o=ye(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getTreeFromDB();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"saveTree",value:(i=ye(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.tree,e.prev=1,e.next=4,this.idb.putItem({storeName:"stringify_tree_".concat(this.instanceName),data:{hashTree:"1",tree:r.toString()},key:"hashTree"});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error("saveCachedTree has error:",e.t0.message);case 9:case"end":return e.stop()}}),e,this,[[1,6]])}))),function(e){return i.apply(this,arguments)})}],r&&be(t.prototype,r),a&&be(t,a),e}(),ke=new function e(){var t=this;ve(this,e),fe(this,"instances",new Map),fe(this,"getService",(function(e){var r="".concat(e.currency,"_").concat(e.amount);if(t.instances.has(r))return t.instances.get(r);var n=new xe(e);return t.instances.set(r,n),n}))};function Ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Re(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Re(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(r),!0).forEach((function(t){Te(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Te(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function je(e,t,r,n,a,i,o){try{var s=e[i](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,a)}function Be(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){je(i,n,a,o,s,"next",e)}function s(e){je(i,n,a,o,s,"throw",e)}o(void 0)}))}}function Ie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Se=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tornadoContract=null,this.connectTornadoContract=null}var t,r,s,u,c,l,h,m,d,y;return t=e,r=[{key:"initTornadoContract",value:function(e){var t=S.U.signer,r=S.U.provider;return e?(this.tornadoContract||(this.tornadoContract=new a.CH(e,q.Mt,r),this.connectTornadoContract=this.tornadoContract.connect(t)),!0):(console.error("Clean mixer address not passed while inititialization"),!1)}},{key:"prepareCommitment",value:(y=Be(regeneratorRuntime.mark((function e(){var t,r,a,i,s,u,c,l,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=S.U.networkName,r=n.V[t].denomination,a=n.V[t].networkId,i="cleanMixer-eth-".concat(r,"-").concat(a),m=31,s=(0,o.O6)(m),u=T(s),c=(h=s,f.babyJub.unpackPoint(f.pedersenHash.hash(h))[0]).toString(),l=g(c),p="".concat(i,"-").concat(u,"-").concat(l),e.abrupt("return",{commitmentHex:l,note:p});case 10:case"end":return e.stop()}var h,m}),e)}))),function(){return y.apply(this,arguments)})},{key:"sendDeposit",value:(d=Be(regeneratorRuntime.mark((function e(t,r){var a,o,s,u,c,l,p,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=S.U.networkName,o=S.U.signer,s=r||"0x0000000000000000000000000000000000000000",o){e.next=5;break}throw new Error("Please connect Metamask first");case 5:if(this.tornadoContract){e.next=7;break}throw new Error("Please initiate tornadoContract first");case 7:if(u=this.tornadoContract.connect(o),t){e.next=10;break}throw new Error("Error generating commitment");case 10:return c=n.V[a].denomination,l={value:i.fi(String(c))},e.next=14,u.deposit(t,s,l);case 14:return p=e.sent,e.next=17,p.wait();case 17:return f=e.sent,e.abrupt("return",f);case 19:case"end":return e.stop()}}),e,this)}))),function(e,t){return d.apply(this,arguments)})},{key:"updateEvents",value:(m=Be(regeneratorRuntime.mark((function e(t){var r,a,i,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=S.U.networkName,a=n.V[r].rpc,i=new W(a),o=i.getService(t),e.next=7,o.init();case 7:return e.next=9,o.updateEvents(t.type);case 9:return s=e.sent,e.abrupt("return",s);case 13:throw e.prev=13,e.t0=e.catch(0),new Error("Method updateEvents has error: ".concat(e.t0.message));case 16:case"end":return e.stop()}}),e,null,[[0,13]])}))),function(e){return m.apply(this,arguments)})},{key:"createSnarkProof",value:(h=Be(regeneratorRuntime.mark((function e(t){var r,n,a,i,o,s,u,c,l,f,h,m,d,y,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.root,n=t.note,a=t.tree,i=t.leafIndex,t.recipient,o=S.U.wasm,s=S.U.zkey,u=a.path(i),c=u.pathElements,l=u.pathIndices,f={secret:n.secret.toString(),root:r,pathElements:c,pathIndices:l},o&&s){e.next=7;break}throw new Error("Clean mixer keys not loaded!");case 7:return e.next=9,p.tt.B6(f,o,s);case 9:return h=e.sent,m=h.proof,d=h.publicSignals,e.next=14,R(m,d);case 14:return y=e.sent,v=y,e.abrupt("return",{returnArguments:v});case 17:case"end":return e.stop()}}),e)}))),function(e){return h.apply(this,arguments)})},{key:"buildTree",value:(l=Be(regeneratorRuntime.mark((function e(t){var r,n,a,i,o,s,u,c,l,p,f,h,m,d,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.currency,n=t.amount,a=t.netId,i=t.commitmentHex,o="".concat(r,"_").concat(n),s={netId:a,amount:n,currency:r},u=ke.getService(Oe(Oe({},s),{},{commitment:i,instanceName:o})),e.next=6,u.init();case 6:return e.next=8,Promise.all([u.getTree(),this.updateEvents(Oe(Oe({},s),{},{type:"deposit"}))]);case 8:return c=e.sent,l=Ee(c,2),p=l[0],f=l[1],h=f.events.sort((function(e,t){return e.leafIndex-t.leafIndex})).map((function(e){return e.commitment.toString(10)})),(m=p)?(d=h.slice(m.elements.length),m.bulkInsert(d)):(x(f.events),m=u.createTree({events:h})),y=g(m.root),e.next=18,this.tornadoContract.isKnownRoot(y);case 18:if(e.sent){e.next=21;break}throw new Error("Invalid root!");case 21:return e.next=23,u.saveTree({tree:m});case 23:return e.abrupt("return",{tree:m,root:y});case 24:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"prepareWithdraw",value:(c=Be(regeneratorRuntime.mark((function e(t,r){var n,a,i,o,s,u,c,l,p,f,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=w(t),a=n.currency,i=n.amount,o=n.netId,n.secret,s=n.commitmentHash,e.next=5,this.buildTree({currency:a,amount:i,netId:o,commitmentHash:s});case 5:return u=e.sent,c=u.tree,l=u.root,e.next=10,this.createSnarkProof({root:l,tree:c,note:n,leafIndex:c.indexOf(s),recipient:r});case 10:return p=e.sent,f=p.returnArguments,h=s,e.abrupt("return",{returnArguments:f,root:l,nullifierHash:h});case 16:throw e.prev=16,e.t0=e.catch(0),console.error(e.t0),new Error(e.t0.message);case 20:case"end":return e.stop()}}),e,this,[[0,16]])}))),function(e,t){return c.apply(this,arguments)})},{key:"withdraw",value:(u=Be(regeneratorRuntime.mark((function e(t,r,n,a,i,o,s,u,c,l){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.connectTornadoContract.withdraw(t,r,n,a,i,o,s,s,c,c);case 3:return e.abrupt("return",!0);case 6:throw e.prev=6,e.t0=e.catch(0),console.error(e.t0),new Error(e.t0.message);case 10:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(e,t,r,n,a,i,o,s,c,l){return u.apply(this,arguments)})}],r&&Ie(t.prototype,r),s&&Ie(t,s),e}(),Ne=new Se},70119:function(e,t,r){"use strict";r.d(t,{U:function(){return v}});var n=r(37842),a=r(9669),i=r.n(a),o=r(55733),s=r.n(o),u=r(34155);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t,r,n,a,i,o){try{var s=e[i](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,a)}function f(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){p(i,n,a,o,s,"next",e)}function s(e){p(i,n,a,o,s,"throw",e)}o(void 0)}))}}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var m=new(s()),d=["https://gateway.pinata.cloud/ipfs/","https://ipfs.io/ipfs/","https://dweb.link/ipfs/"],y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.provider=null,this.signer=null,this.chainId=null,this.networkName=null,this.wasm=null,this.zkey=null}var t,r,a,o,s,l;return t=e,r=[{key:"connect",value:(l=f(regeneratorRuntime.mark((function e(){var t,r,a,i,o,s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!window.ethereum){e.next=24;break}return this.provider=new n.Q(window.ethereum),e.next=5,this.provider.getNetwork();case 5:return t=e.sent,r=t.chainId,a=t.name,this.chainId=r,this.networkName=a,e.next=12,this.provider.send("eth_requestAccounts",[]);case 12:return this.signer=this.provider.getSigner(),e.next=15,Promise.all([this.getCleanMixerKeys(u.env.REACT_APP_CIRCOM_WASM_CID,"circuit.wasm","arraybuffer"),this.getCleanMixerKeys(u.env.REACT_APP_CIRCUIT_ZKEY_CID,"circuit_final.zkey","arraybuffer")]);case 15:return i=e.sent,o=c(i,2),s=o[0],l=o[1],this.wasm=s,this.zkey=l,e.next=23,this.signer.getAddress();case 23:return e.abrupt("return",e.sent);case 24:return e.abrupt("return",null);case 27:return e.prev=27,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",null);case 31:case"end":return e.stop()}}),e,this,[[0,27]])}))),function(){return l.apply(this,arguments)})},{key:"getCleanMixerKeys",value:(s=f(regeneratorRuntime.mark((function e(t,r,n){var a,o,s,u,c,l,p,f,h=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=h.length>3&&void 0!==h[3]?h[3]:0,e.prev=1,console.log("Using this IPFS gateway: ",d[a]),o=d[a],e.next=6,i().get("".concat(o,"/").concat(t),{responseType:"blob",onDownloadProgress:function(e){var t=Math.round(100*e.loaded);console.log("Downloading keys: ",t)}});case 6:return s=e.sent,e.next=9,m.loadAsync(s.data);case 9:return u=e.sent,c=u.file(r),e.next=13,c.async(n);case 13:return l=e.sent,p=URL.createObjectURL(new Blob([l])),e.abrupt("return",p);case 18:if(e.prev=18,e.t0=e.catch(1),console.log(e.t0),!(a<d.length)){e.next=27;break}return a++,e.next=25,this.getCleanMixerKeys(t,r,n,a);case 25:return f=e.sent,e.abrupt("return",f);case 27:case"end":return e.stop()}}),e,this,[[1,18]])}))),function(e,t,r){return s.apply(this,arguments)})},{key:"getCurrentAccount",value:(o=f(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.signer){e.next=6;break}return e.next=3,this.signer.getAddress();case 3:case 13:return e.abrupt("return",e.sent);case 6:if(!window.ethereum){e.next=16;break}return this.provider=new n.Q(window.ethereum),e.next=10,this.provider.send("eth_requestAccounts",[]);case 10:return this.signer=this.provider.getSigner(),e.next=13,this.signer.getAddress();case 16:return e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})}],r&&h(t.prototype,r),a&&h(t,a),e}(),v=new y},96279:function(e,t,r){"use strict";r.d(t,{V:function(){return n}});var n={goerli:{tornadoAddress:"0x7BF7Bd7eCc12fbd5458Ad03FADC1e3B0Da26c985",networkId:"5",networkName:"Goerli",denomination:"0.01",rpc:"https://goerli.infura.io/v3/a25d2139d055489ca5bd2db9d0c66b3a",deployedBlock:"7586389",nativeCurrency:"eth",tokens:{eth:{instanceAddress:{.01:"0x9dE40789bC4ef0CAf4AAF60A46CE5aF7030BE66E"},symbol:"ETH",decimals:18}},merkleTreeHeight:20,emptyElement:"21663839004416932945382355908790599225266501822907911457504978515578255421292"},ganache:{tornadoAddress:"0x87f8EEC2e63B7e3815B96586f3dA7DC577d71617",networkId:"5777",networkName:"Ganache",denomination:"0.1",rpc:"http://127.0.0.1:7545",deployedBlock:"0",nativeCurrency:"eth",tokens:{eth:{instanceAddress:{.1:"0x9dE40789bC4ef0CAf4AAF60A46CE5aF7030BE66E"},symbol:"ETH",decimals:18}},merkleTreeHeight:20,emptyElement:"21663839004416932945382355908790599225266501822907911457504978515578255421292"}}},77243:function(e){"use strict";e.exports="data:image/png;base64,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"},32574:function(){},98510:function(){},63906:function(){},12993:function(){},94219:function(){},16359:function(){},61758:function(){}},n={};function a(e){if(n[e])return n[e].exports;var t=n[e]={id:e,loaded:!1,exports:{}};return r[e].call(t.exports,t,t.exports,a),t.loaded=!0,t.exports}a.m=r,a.x=function(){},a.amdO={},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},a.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"==typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"==typeof r.then)return r}var i=Object.create(null);a.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&n&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},a.d(i,o),i},a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){var e={0:0},t=[[26981,1,2],[40979,1,2]],r=function(){},n=function(n,i){for(var o,s,u=i[0],c=i[1],l=i[2],p=i[3],f=0,h=[];f<u.length;f++)s=u[f],a.o(e,s)&&e[s]&&h.push(e[s][0]),e[s]=0;for(o in c)a.o(c,o)&&(a.m[o]=c[o]);for(l&&l(a),n&&n(i);h.length;)h.shift()();return p&&t.push.apply(t,p),r()},i=self.webpackChunkclean_mixer=self.webpackChunkclean_mixer||[];function o(){for(var r,n=0;n<t.length;n++){for(var i=t[n],o=!0,s=1;s<i.length;s++){var u=i[s];0!==e[u]&&(o=!1)}o&&(t.splice(n--,1),r=a(a.s=i[0]))}return 0===t.length&&(a.x(),a.x=function(){}),r}i.forEach(n.bind(null,0)),i.push=n.bind(null,i.push.bind(i));var s=a.x;a.x=function(){return a.x=s||function(){},(r=o)()}}(),a.x()}();
//# sourceMappingURL=main.dd7308e8b57c4f1ce06c.bundle.js.map